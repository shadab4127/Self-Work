<template>
    <div class="slds-form-element__row">
      <div class="slds-form-element slds-size_2-of-2">
         <div class="slds-form-element__control" onmouseleave={onblure}>
           <div class="slds-combobox_container slds-has-object-switcher slds-has-focus">
                  <span class="slds-pill slds-pill_link ">
                      <span class="slds-pill__icon_container">
                      <span class="slds-icon_container slds-icon-standard-contact" style="size: 2px;" title="contact">
                          <lightning-icon icon-name="standard:contact" size="xxx-small" alternative-text="contact"></lightning-icon>
                      <span class="slds-assistive-text">Contact</span>
                      </span>
                      </span>
                      <span class="slds-pill__label slds-pill__action">{contactname}</span>
                      <button class="slds-button slds-button_icon slds-button_icon slds-pill__remove" title="Remove" onclick={removePills}>
                          <lightning-icon icon-name="utility:close"  alternative-text="close"></lightning-icon>
                      </button>
                  </span>
             <div class="slds-listbox_object-switcher slds-hide contactIcons">
               <span class="slds-icon_container slds-icon-standard-contact" title="contact">
                 <lightning-icon icon-name="standard:contact" class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default" alternative-text="Contact"></lightning-icon>
               </span>
             </div>
             <div class="slds-combobox slds-hide slds-dropdown-trigger slds-dropdown-trigger_click" aria-expanded="false" aria-haspopup="listbox" >
               <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
                      <input type="text" class="slds-input slds-combobox__input " aria-autocomplete="list" role="textbox" placeholder="Search contacts..." onupdate={onkeyup} onkeyup={handleKeyUp} value={search} onclick={onfocus} />
                  <span class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                  <lightning-icon icon-name="utility:search" class="slds-icon slds-input__icon" alternative-text="Search" size="x-small"></lightning-icon>
                  </span>
               </div>
             </div>
            </div>
          <div id="listbox-id-3" class="slds-dropdown slds-dropdown_length-with-icon-5 slds-dropdown_fluid accounts_list slds-hide" role="listbox" >
            <center>{message}</center>
            <ul class="slds-listbox slds-listbox_vertical" role="presentation" >
            <template for:each={contacts} for:item="contact" >
              <li role="presentation" class="slds-listbox__item" key={contact.Id} onclick={selectContact} data-id={contact.Id} data-name={contact.Name}>
                <div aria-selected="true" id={contact.Id} class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option" tabindex="0">
                  <span class="slds-media__figure slds-listbox__option-icon">
                    <span class="slds-icon_container slds-icon-standard-contact">
                      <lightning-icon icon-name="standard:contact" alternative-text="Contact" small="x-small"></lightning-icon>
                    </span>
                  </span>
                  <span class="slds-media__body">
                    <span class="slds-listbox__option-text slds-listbox__option-text_entity" style="line-height: 40px">
                      {contact.Name}
                    </span>
                  </span>
                </div>
              </li>
            </template>
          </ul>
          </div>
        </div>
      </div>
    </div>
  </template>
