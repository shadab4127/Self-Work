<template>
    <lightning-card  title="Contact Roles" icon-name="standard:contact">
        <lightning-button label="New" slot="actions" onclick={createNewRecord}></lightning-button>
        <div >
            <table>
                <thead>
                    <tr>
                        <th class="action">Action</th>
                        <th>Contact Name</th>
                        <th>Account Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Role</th>
                        <th>Primary</th>
                    </tr>
                </thead>
                <tbody>
                        <template for:each={record.data} for:item="roles" >
                        <tr key={roles.getAccConRole.Id}>
                           
                            <td class="action">
                                <button class="slds-button slds-button_icon slds-button_icon-small  slds-popover__edit" id={roles.getAccConRole.Id} title="Edit"  onclick={editRecord}>
                                    <lightning-icon icon-name="utility:edit" alternative-text="Edit" variant="normal" size="x-small" ></lightning-icon>
                                </button>
                                |
                                <button class="slds-button slds-button_icon slds-button_icon-small slds-popover__delete" id={roles.getAccConRole.Id}  title="Delete" onclick={deleteRecord}>
                                    <lightning-icon icon-name="utility:delete" alternative-text="Delete" variant="normal" size="x-small" ></lightning-icon>
                                </button>
                            </td>
                            <td><a class="anchor" data-id={roles.getAccConRole.Contact.Id} onclick={getContact}>{roles.getAccConRole.Contact.Name}</a></td>
                            <td><a class="anchor"  data-id={roles.getAccConRole.Contact.Account.Id} onclick={getAccount}>{roles.getAccConRole.Contact.Account.Name}</a></td>
                            <td><a class="anchor">{roles.getAccConRole.Contact.Email}</a></td>
                            <td>{roles.getAccConRole.Contact.Phone}</td>
                            <td>{roles.getAccConRole.Role}</td>
                            <td><lightning-input type="checkbox" checked={roles.getAccConRole.IsPrimary} disabled></lightning-input></td>
                        </tr>
                    </template>
                    </tbody>
                    </table>
        </div>
        <c-edit-contact-roles onrefreshview={refreshRecord} recordids={rolesId} contactrole={contactRole} isprimary={isPrimary} accountsid={accountIds} contactname={contactName} contactids={contactId} onnewmodelfasle={editClose} shows={editshow}></c-edit-contact-roles>
        <c-new-contact-roles onrefreshview={refreshRecord} recordids={recordId}  onnewmodelfasle={newClose} shows={newshow}></c-new-contact-roles>
    </lightning-card>    
</template>
